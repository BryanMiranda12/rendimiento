<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Control de Producción</title>

    <style>
        body {
            background-color: #e3f2fd
            font-family: "Segoe UI", Arial, sans-serif
            text-align: center
            margin: 0
            padding: 0
        }

        h1 {
            margin-top: 25px
            color: #0d47a1
        }

        .contenedor {
            width: 75%
            background: #ffffff
            margin: 30px auto
            padding: 20px
            box-shadow: 0 4px 12px rgba(0,0,0,0.1)
            border-radius: 10px
            display: flex
            flex-direction: column
            align-items: center
        }

        table {
            width: 100%
            border-collapse: collapse
            margin-top: 20px
            border-radius: 10px
            overflow: hidden
        }

        th, td {
            padding: 10px
            text-align: center
        }

        th {
            background-color: #1565c0
            color: white
        }

        tr:nth-child(even) {
            background-color: #f2f7fb
        }

        tr:hover {
            background-color: #bbdefb
        }

        td {
            border-bottom: 1px solid #ddd
        }

        .rendimiento {
            font-weight: bold
            font-size: 18px
            padding: 10px
            display: inline-block
        }
    </style>
</head>
<body>

<h1>Control de Producción</h1>

<script>

    let operario = prompt("Ingrese el nombre del operario:")
    let produccion = []
    let continuar = "si"

    while (continuar.toLowerCase() === "si") {

        let producto = prompt("Ingrese el tipo de producto (A, B o C):")
        let costoUnitario = 0

        switch (producto.toUpperCase()) {
            case "A":
                costoUnitario = 5000
                producto = "Componente A"
                break
            case "B":
                costoUnitario = 7000
                producto = "Componente B"
                break
            case "C":
                costoUnitario = 10000
                producto = "Componente C"
                break
            default:
                alert("Producto inválido, se asigna Componente A")
                costoUnitario = 5000
                producto = "Componente A"
        }

        let piezas = parseInt(prompt("Ingrese piezas producidas hoy:"))

        produccion.push({
            producto: producto,
            piezas: piezas,
            costo: costoUnitario
        })

        continuar = prompt("¿Registrar otro día? (si/no)")
    }

    let totalPiezas = 0
    let costoTotal = 0

    for (let i = 0; i < produccion.length; i++) {
        totalPiezas += produccion[i].piezas
        costoTotal += produccion[i].piezas * produccion[i].costo
    }

    let rendimiento = ""
    let color = ""

    if (totalPiezas < 50) {
        rendimiento = "Bajo rendimiento"
        color = "#e53935"
    } else if (totalPiezas <= 100) {
        rendimiento = "Rendimiento aceptable"
        color = "#f9a825"
    } else {
        rendimiento = "Rendimiento excelente"
        color = "#2e7d32"
    }

    document.write(
        "<div class='contenedor'>" +
        "<strong>Operario:</strong> " + operario + "<br><br>" +
        "<table>" +
        "<tr><th>Día</th><th>Producto</th><th>Piezas</th><th>Costo Unitario</th><th>Costo Total Día</th></tr>"
    )

    for (let i = 0; i < produccion.length; i++) {
        let costoDia = produccion[i].piezas * produccion[i].costo
        document.write(
            "<tr>" +
            "<td>" + (i + 1) + "</td>" +
            "<td>" + produccion[i].producto + "</td>" +
            "<td>" + produccion[i].piezas + "</td>" +
            "<td>$" + produccion[i].costo.toLocaleString("es-CL") + "</td>" +
            "<td>$" + costoDia.toLocaleString("es-CL") + "</td>" +
            "</tr>"
        )
    }

    document.write(
        "<tr style='font-weight:bold; background-color:#e3f2fd'>" +
        "<td colspan='2'>Totales</td>" +
        "<td>" + totalPiezas + "</td>" +
        "<td></td>" +
        "<td>$" + costoTotal.toLocaleString("es-CL") + "</td>" +
        "</tr>" +
        "</table>" +
        "<br><span class='rendimiento' style='color:" + color + "'>Rendimiento: " + rendimiento + "</span>" +
        "</div>"
    )

</script>

</body>
</html>
